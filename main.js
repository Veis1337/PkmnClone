// Now let's make our favorite kitty player.
const tileSize = 32;
const width = 640;
const height = 480;
const numRows = height/tileSize;
const numCols = width/tileSize;

let map = [
    822, 823, 824, 825, 826, 822, 823, 824, 825, 826, 822, 823, 824, 825, 826, 822, 823, 824, 825, 826,
    876, 877, 178, 879, 880, 876, 877, 178, 879, 880, 876, 877, 178, 879, 880, 876, 877, 178, 879, 880,
    930, 931, 932, 933, 934, 930, 931, 932, 933, 934, 930, 931, 932, 933, 934, 930, 931, 932, 933, 934,
    984, 985, 986, 987, 988, 984, 985, 986, 987, 988, 984, 985, 986, 987, 988, 984, 985, 986, 987, 988,
    1038, 1039, 1040, 1041, 1042, 1038, 1039, 1040, 1041, 1042, 1038, 1039, 1040, 1041, 1042, 1038, 1039, 1040, 1041, 1042,
    3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892, 3892,
    3586, 3587, 3588, 3586, 3587, 3588, 3586, 3587, 3588, 3586, 3587, 3588, 3586, 3587, 3588, 3586, 3587, 3588, 3586, 3587,
    3640, 3641, 3642, 3640, 3641, 3642, 3640, 3641, 3642, 3640, 3641, 3642, 3640, 3641, 3642, 3640, 3641, 3642, 3640, 3641,
    3694, 3695, 3696, 3694, 3695, 3696, 3694, 3695, 3696, 3694, 3695, 3696, 3694, 3695, 3696, 3694, 3695, 3696, 3694, 4497,
    4831, 4832, 4833, 4834, 0, 4831, 4832, 4833, 4834, 0, 4831, 4832, 4833, 4834, 0, 4831, 4832, 4833, 4834, 4551,
    4885, 4886, 4887, 4888, 0, 4885, 4886, 4887, 4888, 0, 4885, 4886, 4887, 4888, 0, 4885, 4886, 4887, 4888, 4605,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    4341, 4342, 4343, 4344, 4345, 4341, 4342, 4343, 4344, 4345, 4341, 4342, 4343, 4344, 4345, 4341, 4342, 4343, 4344, 4345,
    4395, 4396, 178, 4398, 4399, 4395, 4396, 178, 4398, 4399, 4395, 4396, 178, 4398, 4399, 4395, 4396, 178, 4398, 4399,
    4449, 4450, 4451, 4452, 4453, 4449, 4450, 4451, 4452, 4453, 4449, 4450, 4451, 4452, 4453, 4449, 4450, 4451, 4452, 4453,
    4503, 4504, 4505, 4506, 4507, 4503, 4504, 4505, 4506, 4507, 4503, 4504, 4505, 4506, 4507, 4503, 4504, 4505, 4506, 4507,
    4557, 4558, 4559, 4560, 4561, 4557, 4558, 4559, 4560, 4561, 4557, 4558, 4559, 4560, 4561, 4557, 4558, 4559, 4560, 4561,
    4776, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    4830, 4612, 4613, 4614, 4615, 0, 4612, 4613, 4614, 4615, 0, 4612, 4613, 4614, 4615, 0, 4612, 4613, 4614, 4615,
    4884, 4666, 4667, 4668, 4669, 0, 4666, 4667, 4668, 4669, 0, 4666, 4667, 4668, 4669, 0, 4666, 4667, 4668, 4669
];

let lilMap = [
    [0, 1, 0, 1, 0],
    [1, 0, 1, 0, 1],
    [0, 1, 0, 1, 1]
];


var player = {
    x: 100,
    y: 100,
    width: 32,
    height: 42,
}
player.image = new Image();
player.image.src = "player-male.png";



let spriteSheet = new Image();
spriteSheet.src = "outdoors.png";

function drawMap() {
    for (let row = 0; row < 3; row++) {
        for (let col = 0; col < 5; col++) {
            let x = col * tileSize;
            let y = row * tileSize;
            let tile = lilMap[row][col];
            if (tile == 1) {
                ctx.drawImage(spriteSheet, 0, 0, 16, 16, x, y, tileSize, tileSize);
            }
        }
    }

}

function update(dt) {

}
	
/**
 * This function is called right after update is called.
 * It clears the screen, draws the background, then then
 * draws player.
 */
function render(dt) {
    // Clears the screen with white
	ctx.save();
    ctx.clearRect(0, 0, 640, 480);
    

    drawMap();
	// Now let's draw player at their position x,y
    ctx.drawImage(player.image, 0, 0, 15, 21, player.x, player.y, player.width, player.height);
	
	ctx.restore();
}

function init() {
    setInterval(function() {
        update(60/1000);
        render(60/1000);
    }, 1000/60);
}